<div class="container mx-auto px-4 py-8">
  <h1 class="text-4xl font-bold text-slate-800 mb-8">Villains</h1>

  <app-character-form
    [type]="'villain'"
    [showPowerInput]="true"
    (submitForm)="addVillain($event)"
  ></app-character-form>

  <div class="mb-6">
    <div class="relative">
      <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
      </svg>
      <input
        type="text"
        [(ngModel)]="searchTerm"
        placeholder="Search villains by name or PGUID..."
        class="w-full pl-10 pr-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"
      />
    </div>
  </div>

  <div class="mb-4 text-slate-600">
    Showing {{ filteredVillains.length }} of {{ villains.length }} villains
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <app-villain-card
      *ngFor="let villain of filteredVillains"
      [villain]="villain"
      [showDelete]="true"
      (delete)="deleteVillain($event)"
    ></app-villain-card>
  </div>

  <div *ngIf="filteredVillains.length === 0" class="text-center py-12 text-slate-500">
    {{ searchTerm ? 'No villains found matching your search.' : 'No villains yet. Add your first villain above!' }}
  </div>
</div>
